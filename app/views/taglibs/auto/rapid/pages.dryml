<!-- AUTOMATICALLY GENERATED FILE - DO NOT EDIT -->

<!-- ====== Main Navigation ====== -->

<def tag="main-nav">
  <navigation class="main-nav" merge-attrs param="default">
    <nav-item href="#{base_url}/">Home</nav-item>
    <nav-item with="&BoatClass"><ht key="boat_classes.nav_item">Boat Classes</ht></nav-item>
    <nav-item with="&Country"><ht key="countries.nav_item">Countries</ht></nav-item>
    <nav-item with="&CourseArea"><ht key="course_areas.nav_item">Course Areas</ht></nav-item>
    <nav-item with="&Equipment"><ht key="equipment.nav_item">Equipment</ht></nav-item>
    <nav-item with="&EquipmentType"><ht key="equipment_types.nav_item">Equipment Types</ht></nav-item>
  </navigation>
</def>




<!-- ====== BoatClass Pages ====== -->

<def tag="index-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.index.title', :default=>['Boat Classes'] }">
    <body: class="index-page boat-class" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="boat_classes.index.heading">
            Boat Classes
          </ht>
        </h2>

        <p param="count" if>
          <ht key="boat_classes.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="boat_classes.actions.new">New Boat Class</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.new.title', :default=>[' New Boat Class'] }">
    <body: class="new-page boat-class" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="boat_classes.new.heading">
            New Boat Class
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'boat_classes.actions.create', :default=>['Create Boat Class']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.show.title', :default=>['Boat Class'] }">

    <body: class="show-page boat-class" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <h2 param="heading">
              <ht key="boat_classes.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="boat_classes.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Boat Class
              </ht>
            </a>
          </header>

          <section param="content-body" with-flash-messages>
            <view:description param="description"/>
            <field-list fields="no_of_crew_members, organization" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="boat_classes.collection.heading.other" >
                  Equipment Types
                </ht>
              </h3>

              <collection:equipment_types param/>

              <a:equipment_types action="new" if="&can_create?(@boat_class.equipment_types)" param="new-link">
                <ht key="equipment_types.actions.new">
                  New Equipment Type
                </ht>
              </a:equipment_types>
            </section>
          </section>
        </section>

        <aside param>
          <section param="boats-collection-section">
            <h3 param="boats-collection-heading">
              <ht key="boats.collection.heading.other" >
                Boats
              </ht>
            </h3>
            <collection:boats  param="boats-collection"/>
          </section>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.edit.title', :default=>['Edit Boat Class'] }">

    <body: class="edit-page boat-class" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="boat_classes.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'boat_classes.actions.delete', :default=>['Remove This Boat Class']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-organization-page" polymorphic/>
<def tag="index-for-organization-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.index_for_owner.title', :default=>['Boat Classes for']} #{name :with => @organization, :no_wrapper => true}">    
    <body: class="index-for-owner-page organization boat-class" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@organization"/>
        </div>
        <h2 param="heading">
          <ht key="boat_classes.index_for_owner.heading.other">
            Boat Classes
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="boat_classes.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
        <p param="count" if>
          <ht key="boat_classes.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="boat_classes.actions.new" >New Boat Class</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-organization-page" polymorphic/>
<def tag="new-for-organization-page" for="BoatClass">
  <page merge title="#{ht 'boat_classes.new_for_owner.title', :default=>['New Boat Class for']} #{name :with => @organization}">
    <body: class="new-for-owner-page  boat-class" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="boat_classes.new_for_owner.heading">
            New Boat Class
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="boat_classes.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="organization" method="post" param>
          <field-list: skip="organization"/>
          <submit: label="#{ht 'boat_classes.actions.create', :default=>['Create Boat Class']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Boat Pages ====== -->

<def tag="index-page" for="Boat">
  <page merge title="#{ht 'boats.index.title', :default=>['Boats'] }">
    <body: class="index-page boat" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="boats.index.heading">
            Boats
          </ht>
        </h2>

        <p param="count" if>
          <ht key="boats.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="boats.actions.new">New Boat</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Boat">
  <page merge title="#{ht 'boats.new.title', :default=>[' New Boat'] }">
    <body: class="new-page boat" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="boats.new.heading">
            New Boat
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'boats.actions.create', :default=>['Create Boat']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Boat">
  <page merge title="#{ht 'boats.show.title', :default=>['Boat'] }">

    <body: class="show-page boat" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="boats.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a:owner param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="boats.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Boat
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="boat_class" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="boats.collection.heading.other" >
                  Equipment
                </ht>
              </h3>

              <collection:equipment param/>

              <a:equipment action="new" if="&can_create?(@boat.equipment)" param="new-link">
                <ht key="equipment.actions.new">
                  New Equipment
                </ht>
              </a:equipment>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Boat">
  <page merge title="#{ht 'boats.edit.title', :default=>['Edit Boat'] }">

    <body: class="edit-page boat" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="boats.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'boats.actions.delete', :default=>['Remove This Boat']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-owner-page" polymorphic/>
<def tag="index-for-owner-page" for="Boat">
  <page merge title="#{ht 'boats.index_for_owner.title', :default=>['Boats for']} #{name :with => @owner, :no_wrapper => true}">    
    <body: class="index-for-owner-page owner boat" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@owner"/>
        </div>

        <h2 param="heading">
          <ht key="boats.index_for_owner.heading.your">
            <Your with="&@owner"/> Boats
          </ht>
        </h2>
        <p param="count" if>
          <ht key="boats.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="boats.actions.new" >New Boat</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-owner-page" polymorphic/>
<def tag="new-for-owner-page" for="Boat">
  <page merge title="#{ht 'boats.new_for_owner.title', :default=>['New Boat for']} #{name :with => @owner}">
    <body: class="new-for-owner-page  boat" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="boats.new_for_owner.heading">
            New Boat
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="boats.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@owner"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="owner" method="post" param>
          <field-list: skip="owner"/>
          <submit: label="#{ht 'boats.actions.create', :default=>['Create Boat']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== CalendarEntry Pages ====== -->

<def tag="index-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.index.title', :default=>['Calendar Entries'] }">
    <body: class="index-page calendar-entry" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="calendar_entries.index.heading">
            Calendar Entries
          </ht>
        </h2>

        <p param="count" if>
          <ht key="calendar_entries.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="calendar_entries.actions.new">New Calendar Entry</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.new.title', :default=>[' New Calendar Entry'] }">
    <body: class="new-page calendar-entry" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="calendar_entries.new.heading">
            New Calendar Entry
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'calendar_entries.actions.create', :default=>['Create Calendar Entry']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.show.title', :default=>['Calendar Entry'] }">

    <body: class="show-page calendar-entry" param/>

    <content: param>
          <header param="content-header">
            <a:event param="parent-link">&laquo; <ht key="calendar_entries.actions.back" to="event"><name/></ht></a:event>
            <h2 param="heading">
              <ht key="calendar_entries.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="calendar_entries.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Calendar Entry
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="scheduled_time" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.edit.title', :default=>['Edit Calendar Entry'] }">

    <body: class="edit-page calendar-entry" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="calendar_entries.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'calendar_entries.actions.delete', :default=>['Remove This Calendar Entry']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-event-page" polymorphic/>
<def tag="index-for-event-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.index_for_owner.title', :default=>['Calendar Entries for']} #{name :with => @event, :no_wrapper => true}">    
    <body: class="index-for-owner-page event calendar-entry" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@event"/>
        </div>
        <h2 param="heading">
          <ht key="calendar_entries.index_for_owner.heading.other">
            Calendar Entries
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="calendar_entries.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
        <p param="count" if>
          <ht key="calendar_entries.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="calendar_entries.actions.new" >New Calendar Entry</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-event-page" polymorphic/>
<def tag="new-for-event-page" for="CalendarEntry">
  <page merge title="#{ht 'calendar_entries.new_for_owner.title', :default=>['New Calendar Entry for']} #{name :with => @event}">
    <body: class="new-for-owner-page  calendar-entry" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="calendar_entries.new_for_owner.heading">
            New Calendar Entry
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="calendar_entries.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="event" method="post" param>
          <field-list: skip="event"/>
          <submit: label="#{ht 'calendar_entries.actions.create', :default=>['Create Calendar Entry']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Country Pages ====== -->

<def tag="index-page" for="Country">
  <page merge title="#{ht 'countries.index.title', :default=>['Countries'] }">
    <body: class="index-page country" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="countries.index.heading">
            Countries
          </ht>
        </h2>

        <p param="count" if>
          <ht key="countries.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="countries.actions.new">New Country</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Country">
  <page merge title="#{ht 'countries.new.title', :default=>[' New Country'] }">
    <body: class="new-page country" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="countries.new.heading">
            New Country
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'countries.actions.create', :default=>['Create Country']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Country">
  <page merge title="#{ht 'countries.show.title', :default=>['Country'] }">

    <body: class="show-page country" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="countries.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="countries.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Country
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="code" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Country">
  <page merge title="#{ht 'countries.edit.title', :default=>['Edit Country'] }">

    <body: class="edit-page country" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="countries.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'countries.actions.delete', :default=>['Remove This Country']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== CourseArea Pages ====== -->

<def tag="index-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.index.title', :default=>['Course Areas'] }">
    <body: class="index-page course-area" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="course_areas.index.heading">
            Course Areas
          </ht>
        </h2>

        <p param="count" if>
          <ht key="course_areas.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.new.title', :default=>[' New Course Area'] }">
    <body: class="new-page course-area" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="course_areas.new.heading">
            New Course Area
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'course_areas.actions.create', :default=>['Create Course Area']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.show.title', :default=>['Course Area'] }">

    <body: class="show-page course-area" param/>

    <content: param>
          <header param="content-header">
            <a:event param="parent-link">&laquo; <ht key="course_areas.actions.back" to="event"><name/></ht></a:event>
            <h2 param="heading">
              <ht key="course_areas.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>
          </header>

          <section param="content-body">
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="course_areas.collection.heading.other" >
                  Fleet Races
                </ht>
              </h3>

              <collection:fleet_races param/>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.edit.title', :default=>['Edit Course Area'] }">

    <body: class="edit-page course-area" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="course_areas.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'course_areas.actions.delete', :default=>['Remove This Course Area']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-event-page" polymorphic/>
<def tag="index-for-event-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.index_for_owner.title', :default=>['Course Areas for']} #{name :with => @event, :no_wrapper => true}">    
    <body: class="index-for-owner-page event course-area" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@event"/>
        </div>
        <h2 param="heading">
          <ht key="course_areas.index_for_owner.heading.other">
            Course Areas
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="course_areas.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
        <p param="count" if>
          <ht key="course_areas.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="course_areas.actions.new" >New Course Area</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-event-page" polymorphic/>
<def tag="new-for-event-page" for="CourseArea">
  <page merge title="#{ht 'course_areas.new_for_owner.title', :default=>['New Course Area for']} #{name :with => @event}">
    <body: class="new-for-owner-page  course-area" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="course_areas.new_for_owner.heading">
            New Course Area
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="course_areas.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="event" method="post" param>
          <field-list: skip="event"/>
          <submit: label="#{ht 'course_areas.actions.create', :default=>['Create Course Area']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Course Pages ====== -->

<def tag="index-page" for="Course">
  <page merge title="#{ht 'courses.index.title', :default=>['Courses'] }">
    <body: class="index-page course" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="courses.index.heading">
            Courses
          </ht>
        </h2>

        <p param="count" if>
          <ht key="courses.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Course">
  <page merge title="#{ht 'courses.new.title', :default=>[' New Course'] }">
    <body: class="new-page course" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="courses.new.heading">
            New Course
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'courses.actions.create', :default=>['Create Course']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Course">
  <page merge title="#{ht 'courses.show.title', :default=>['Course'] }">

    <body: class="show-page course" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <h2 param="heading">
              <ht key="courses.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="courses.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Course
              </ht>
            </a>
          </header>

          <section param="content-body" with-flash-messages>
            <field-list fields="organization" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="courses.collection.heading.other" >
                  Spots
                </ht>
              </h3>

              <collection:spots param/>

              <a:spots action="new" if="&can_create?(@course.spots)" param="new-link">
                <ht key="spots.actions.new">
                  New Spot
                </ht>
              </a:spots>
            </section>
          </section>
        </section>

        <aside param>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Course">
  <page merge title="#{ht 'courses.edit.title', :default=>['Edit Course'] }">

    <body: class="edit-page course" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="courses.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'courses.actions.delete', :default=>['Remove This Course']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-organization-page" polymorphic/>
<def tag="index-for-organization-page" for="Course">
  <page merge title="#{ht 'courses.index_for_owner.title', :default=>['Courses for']} #{name :with => @organization, :no_wrapper => true}">    
    <body: class="index-for-owner-page organization course" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@organization"/>
        </div>
        <h2 param="heading">
          <ht key="courses.index_for_owner.heading.other">
            Courses
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="courses.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
        <p param="count" if>
          <ht key="courses.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="courses.actions.new" >New Course</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-organization-page" polymorphic/>
<def tag="new-for-organization-page" for="Course">
  <page merge title="#{ht 'courses.new_for_owner.title', :default=>['New Course for']} #{name :with => @organization}">
    <body: class="new-for-owner-page  course" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="courses.new_for_owner.heading">
            New Course
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="courses.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="organization" method="post" param>
          <field-list: skip="organization"/>
          <submit: label="#{ht 'courses.actions.create', :default=>['Create Course']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== CrewMembership Pages ====== -->

<def tag="index-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.index.title', :default=>['Crew Memberships'] }">
    <body: class="index-page crew-membership" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.index.heading">
            Crew Memberships
          </ht>
        </h2>

        <p param="count" if>
          <ht key="crew_memberships.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.new.title', :default=>[' New Crew Membership'] }">
    <body: class="new-page crew-membership" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.new.heading">
            New Crew Membership
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'crew_memberships.actions.create', :default=>['Create Crew Membership']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.show.title', :default=>['Crew Membership'] }">

    <body: class="show-page crew-membership" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="crew_memberships.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>
          </header>

          <section param="content-body">
            <field-list fields="state, invitee, joined_crew" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.edit.title', :default=>['Edit Crew Membership'] }">

    <body: class="edit-page crew-membership" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'crew_memberships.actions.delete', :default=>['Remove This Crew Membership']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-joined-crew-page" polymorphic/>
<def tag="index-for-joined-crew-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.index_for_owner.title', :default=>['Crew Memberships for']} #{name :with => @joined_crew, :no_wrapper => true}">    
    <body: class="index-for-owner-page joined-crew crew-membership" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@joined_crew"/>
        </div>
        <h2 param="heading">
          <ht key="crew_memberships.index_for_owner.heading.other">
            Crew Memberships
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="crew_memberships.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@joined_crew"/>
        </h3>
        <p param="count" if>
          <ht key="crew_memberships.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="crew_memberships.actions.new" >New Crew Membership</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-joined-crew-page" polymorphic/>
<def tag="new-for-joined-crew-page" for="CrewMembership">
  <page merge title="#{ht 'crew_memberships.new_for_owner.title', :default=>['New Crew Membership for']} #{name :with => @joined_crew}">
    <body: class="new-for-owner-page  crew-membership" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.new_for_owner.heading">
            New Crew Membership
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="crew_memberships.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@joined_crew"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="joined_crew" method="post" param>
          <field-list: skip="joined_crew"/>
          <submit: label="#{ht 'crew_memberships.actions.create', :default=>['Create Crew Membership']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="invite-page" polymorphic/>
<def tag="invite-page" for="CrewMembership">
  
  <page title="#{ht 'crew_memberships.invite.title', :default=>['Invite']}" merge>  

    <body: class="lifecycle-start-page invite-page" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.invite.heading">
            Invite
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <invite-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="accept-page" polymorphic/>
<def tag="accept-page" for="CrewMembership">
  <page title="#{ht 'crew_memberships.accept.title', :default=>['Accept']}" merge>

    <body: class="lifecycle-transition-page accept-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.accept.heading">
            Accept
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <accept-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="ignore-page" polymorphic/>
<def tag="ignore-page" for="CrewMembership">
  <page title="#{ht 'crew_memberships.ignore.title', :default=>['Ignore']}" merge>

    <body: class="lifecycle-transition-page ignore-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.ignore.heading">
            Ignore
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <ignore-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="retract-page" polymorphic/>
<def tag="retract-page" for="CrewMembership">
  <page title="#{ht 'crew_memberships.retract.title', :default=>['Retract']}" merge>

    <body: class="lifecycle-transition-page retract-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crew_memberships.retract.heading">
            Retract
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <retract-form param="form"/>
      </section>
    </content:>

  </page>
</def>



<!-- ====== Crew Pages ====== -->

<def tag="index-page" for="Crew">
  <page merge title="#{ht 'crews.index.title', :default=>['Crews'] }">
    <body: class="index-page crew" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crews.index.heading">
            Crews
          </ht>
        </h2>

        <p param="count" if>
          <ht key="crews.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="crews.actions.new">New Crew</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Crew">
  <page merge title="#{ht 'crews.new.title', :default=>[' New Crew'] }">
    <body: class="new-page crew" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="crews.new.heading">
            New Crew
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'crews.actions.create', :default=>['Create Crew']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Crew">
  <page merge title="#{ht 'crews.show.title', :default=>['Crew'] }">

    <body: class="show-page crew" param/>

    <content: param>
          <header param="content-header">
            <a:owner param="parent-link">&laquo; <ht key="crews.actions.back" to="owner"><name/></ht></a:owner>
            <h2 param="heading">
              <ht key="crews.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a:owner param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="crews.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Crew
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="gender" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Crew">
  <page merge title="#{ht 'crews.edit.title', :default=>['Edit Crew'] }">

    <body: class="edit-page crew" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="crews.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'crews.actions.delete', :default=>['Remove This Crew']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-owner-page" polymorphic/>
<def tag="index-for-owner-page" for="Crew">
  <page merge title="#{ht 'crews.index_for_owner.title', :default=>['Crews for']} #{name :with => @owner, :no_wrapper => true}">    
    <body: class="index-for-owner-page owner crew" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@owner"/>
        </div>

        <h2 param="heading">
          <ht key="crews.index_for_owner.heading.your">
            <Your with="&@owner"/> Crews
          </ht>
        </h2>
        <p param="count" if>
          <ht key="crews.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="crews.actions.new" >New Crew</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-owner-page" polymorphic/>
<def tag="new-for-owner-page" for="Crew">
  <page merge title="#{ht 'crews.new_for_owner.title', :default=>['New Crew for']} #{name :with => @owner}">
    <body: class="new-for-owner-page  crew" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="crews.new_for_owner.heading">
            New Crew
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="crews.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@owner"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="owner" method="post" param>
          <field-list: skip="owner"/>
          <submit: label="#{ht 'crews.actions.create', :default=>['Create Crew']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Enrollment Pages ====== -->

<def tag="index-page" for="Enrollment">
  <page merge title="#{ht 'enrollments.index.title', :default=>['Enrollments'] }">
    <body: class="index-page enrollment" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.index.heading">
            Enrollments
          </ht>
        </h2>

        <p param="count" if>
          <ht key="enrollments.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Enrollment">
  <page merge title="#{ht 'enrollments.new.title', :default=>[' New Enrollment'] }">
    <body: class="new-page enrollment" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="enrollments.new.heading">
            New Enrollment
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'enrollments.actions.create', :default=>['Create Enrollment']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Enrollment">
  <page merge title="#{ht 'enrollments.show.title', :default=>['Enrollment'] }">

    <body: class="show-page enrollment" param/>

    <content: param>
          <header param="content-header">
            <a:event param="parent-link">&laquo; <ht key="enrollments.actions.back" to="event"><name/></ht></a:event>
            <h2 param="heading">
              <ht key="enrollments.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="measured, insured, paid" param/>

            <a:owner param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="enrollments.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Enrollment
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="date_measured, state, boat, country, crew" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Enrollment">
  <page merge title="#{ht 'enrollments.edit.title', :default=>['Edit Enrollment'] }">

    <body: class="edit-page enrollment" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="enrollments.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'enrollments.actions.delete', :default=>['Remove This Enrollment']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-owner-page" polymorphic/>
<def tag="index-for-owner-page" for="Enrollment">
  <page merge title="#{ht 'enrollments.index_for_owner.title', :default=>['Enrollments for']} #{name :with => @owner, :no_wrapper => true}">    
    <body: class="index-for-owner-page owner enrollment" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@owner"/>
        </div>

        <h2 param="heading">
          <ht key="enrollments.index_for_owner.heading.your">
            <Your with="&@owner"/> Enrollments
          </ht>
        </h2>
        <p param="count" if>
          <ht key="enrollments.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>




<def tag="enroll-page" polymorphic/>
<def tag="enroll-page" for="Enrollment">
  
  <page title="#{ht 'enrollments.enroll.title', :default=>['Enroll']}" merge>  

    <body: class="lifecycle-start-page enroll-page" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.enroll.heading">
            Enroll
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <enroll-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="re-enroll-page" polymorphic/>
<def tag="re-enroll-page" for="Enrollment">
  <page title="#{ht 'enrollments.re_enroll.title', :default=>['Re Enroll']}" merge>

    <body: class="lifecycle-transition-page re-enroll-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.re_enroll.heading">
            Re Enroll
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <re-enroll-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="retract-page" polymorphic/>
<def tag="retract-page" for="Enrollment">
  <page title="#{ht 'enrollments.retract.title', :default=>['Retract']}" merge>

    <body: class="lifecycle-transition-page retract-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.retract.heading">
            Retract
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <retract-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="accept-page" polymorphic/>
<def tag="accept-page" for="Enrollment">
  <page title="#{ht 'enrollments.accept.title', :default=>['Accept']}" merge>

    <body: class="lifecycle-transition-page accept-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.accept.heading">
            Accept
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <accept-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="reject-page" polymorphic/>
<def tag="reject-page" for="Enrollment">
  <page title="#{ht 'enrollments.reject.title', :default=>['Reject']}" merge>

    <body: class="lifecycle-transition-page reject-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="enrollments.reject.heading">
            Reject
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <reject-form param="form"/>
      </section>
    </content:>

  </page>
</def>



<!-- ====== Equipment Pages ====== -->

<def tag="index-page" for="Equipment">
  <page merge title="#{ht 'equipment.index.title', :default=>['Equipment'] }">
    <body: class="index-page equipment" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="equipment.index.heading">
            Equipment
          </ht>
        </h2>

        <p param="count" if>
          <ht key="equipment.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="equipment.actions.new">New Equipment</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Equipment">
  <page merge title="#{ht 'equipment.new.title', :default=>[' New Equipment'] }">
    <body: class="new-page equipment" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="equipment.new.heading">
            New Equipment
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'equipment.actions.create', :default=>['Create Equipment']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Equipment">
  <page merge title="#{ht 'equipment.show.title', :default=>['Equipment'] }">

    <body: class="show-page equipment" param/>

    <content: param>
          <header param="content-header">
            <a:boat param="parent-link">&laquo; <ht key="equipment.actions.back" to="boat"><name/></ht></a:boat>
            <h2 param="heading">
              <ht key="equipment.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="equipment.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Equipment
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="equipment_type" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Equipment">
  <page merge title="#{ht 'equipment.edit.title', :default=>['Edit Equipment'] }">

    <body: class="edit-page equipment" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="equipment.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'equipment.actions.delete', :default=>['Remove This Equipment']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-boat-page" polymorphic/>
<def tag="index-for-boat-page" for="Equipment">
  <page merge title="#{ht 'equipment.index_for_owner.title', :default=>['Equipment for']} #{name :with => @boat, :no_wrapper => true}">    
    <body: class="index-for-owner-page boat equipment" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@boat"/>
        </div>
        <h2 param="heading">
          <ht key="equipment.index_for_owner.heading.other">
            Equipment
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="equipment.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@boat"/>
        </h3>
        <p param="count" if>
          <ht key="equipment.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="equipment.actions.new" >New Equipment</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-boat-page" polymorphic/>
<def tag="new-for-boat-page" for="Equipment">
  <page merge title="#{ht 'equipment.new_for_owner.title', :default=>['New Equipment for']} #{name :with => @boat}">
    <body: class="new-for-owner-page  equipment" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="equipment.new_for_owner.heading">
            New Equipment
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="equipment.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@boat"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="boat" method="post" param>
          <field-list: skip="boat"/>
          <submit: label="#{ht 'equipment.actions.create', :default=>['Create Equipment']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== EquipmentType Pages ====== -->

<def tag="index-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.index.title', :default=>['Equipment Types'] }">
    <body: class="index-page equipment-type" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="equipment_types.index.heading">
            Equipment Types
          </ht>
        </h2>

        <p param="count" if>
          <ht key="equipment_types.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="equipment_types.actions.new">New Equipment Type</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.new.title', :default=>[' New Equipment Type'] }">
    <body: class="new-page equipment-type" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="equipment_types.new.heading">
            New Equipment Type
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'equipment_types.actions.create', :default=>['Create Equipment Type']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.show.title', :default=>['Equipment Type'] }">

    <body: class="show-page equipment-type" param/>

    <content: param>
          <header param="content-header">
            <a:boat_class param="parent-link">&laquo; <ht key="equipment_types.actions.back" to="boat_class"><name/></ht></a:boat_class>
            <h2 param="heading">
              <ht key="equipment_types.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="equipment_types.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Equipment Type
              </ht>
            </a>
          </header>

          <section param="content-body">
            <view:description param="description"/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.edit.title', :default=>['Edit Equipment Type'] }">

    <body: class="edit-page equipment-type" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="equipment_types.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'equipment_types.actions.delete', :default=>['Remove This Equipment Type']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-boat-class-page" polymorphic/>
<def tag="index-for-boat-class-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.index_for_owner.title', :default=>['Equipment Types for']} #{name :with => @boat_class, :no_wrapper => true}">    
    <body: class="index-for-owner-page boat-class equipment-type" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@boat_class"/>
        </div>
        <h2 param="heading">
          <ht key="equipment_types.index_for_owner.heading.other">
            Equipment Types
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="equipment_types.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@boat_class"/>
        </h3>
        <p param="count" if>
          <ht key="equipment_types.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="equipment_types.actions.new" >New Equipment Type</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-boat-class-page" polymorphic/>
<def tag="new-for-boat-class-page" for="EquipmentType">
  <page merge title="#{ht 'equipment_types.new_for_owner.title', :default=>['New Equipment Type for']} #{name :with => @boat_class}">
    <body: class="new-for-owner-page  equipment-type" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="equipment_types.new_for_owner.heading">
            New Equipment Type
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="equipment_types.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@boat_class"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="boat_class" method="post" param>
          <field-list: skip="boat_class"/>
          <submit: label="#{ht 'equipment_types.actions.create', :default=>['Create Equipment Type']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== EventFolder Pages ====== -->

<def tag="index-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.index.title', :default=>['Event Folders'] }">
    <body: class="index-page event-folder" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="event_folders.index.heading">
            Event Folders
          </ht>
        </h2>

        <p param="count" if>
          <ht key="event_folders.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="event_folders.actions.new">New Event Folder</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.new.title', :default=>[' New Event Folder'] }">
    <body: class="new-page event-folder" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="event_folders.new.heading">
            New Event Folder
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'event_folders.actions.create', :default=>['Create Event Folder']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.show.title', :default=>['Event Folder'] }">

    <body: class="show-page event-folder" param/>

    <content: param>
          <header param="content-header">
            <a:organization param="parent-link">&laquo; <ht key="event_folders.actions.back" to="organization"><name/></ht></a:organization>
            <h2 param="heading">
              <ht key="event_folders.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="event_folders.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Event Folder
              </ht>
            </a>
          </header>

          <section param="content-body">
            <view:description param="description"/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="event_folders.collection.heading.other" >
                  Events
                </ht>
              </h3>

              <collection:events param/>

              <a:events action="new" if="&can_create?(@event_folder.events)" param="new-link">
                <ht key="events.actions.new">
                  New Event
                </ht>
              </a:events>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.edit.title', :default=>['Edit Event Folder'] }">

    <body: class="edit-page event-folder" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="event_folders.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'event_folders.actions.delete', :default=>['Remove This Event Folder']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-organization-page" polymorphic/>
<def tag="index-for-organization-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.index_for_owner.title', :default=>['Event Folders for']} #{name :with => @organization, :no_wrapper => true}">    
    <body: class="index-for-owner-page organization event-folder" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@organization"/>
        </div>
        <h2 param="heading">
          <ht key="event_folders.index_for_owner.heading.other">
            Event Folders
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="event_folders.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
        <p param="count" if>
          <ht key="event_folders.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="event_folders.actions.new" >New Event Folder</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-organization-page" polymorphic/>
<def tag="new-for-organization-page" for="EventFolder">
  <page merge title="#{ht 'event_folders.new_for_owner.title', :default=>['New Event Folder for']} #{name :with => @organization}">
    <body: class="new-for-owner-page  event-folder" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="event_folders.new_for_owner.heading">
            New Event Folder
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="event_folders.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@organization"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="organization" method="post" param>
          <field-list: skip="organization"/>
          <submit: label="#{ht 'event_folders.actions.create', :default=>['Create Event Folder']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Event Pages ====== -->

<def tag="index-page" for="Event">
  <page merge title="#{ht 'events.index.title', :default=>['Events'] }">
    <body: class="index-page event" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="events.index.heading">
            Events
          </ht>
        </h2>

        <p param="count" if>
          <ht key="events.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="events.actions.new">New Event</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Event">
  <page merge title="#{ht 'events.new.title', :default=>[' New Event'] }">
    <body: class="new-page event" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="events.new.heading">
            New Event
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'events.actions.create', :default=>['Create Event']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Event">
  <page merge title="#{ht 'events.show.title', :default=>['Event'] }">

    <body: class="show-page event" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <a:event_folder param="parent-link">&laquo; <ht key="events.actions.back" to="event_folder"><name/></ht></a:event_folder>
            <h2 param="heading">
              <ht key="events.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="registration_only" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="events.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Event
              </ht>
            </a>
          </header>

          <section param="content-body" with-flash-messages>
            <view:description param="description"/>
            <field-list fields="start_time, end_time, place, time_zone, site_url" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="events.collection.heading.other" >
                  Enrollments
                </ht>
              </h3>

              <collection:enrollments param/>
            </section>
          </section>
        </section>

        <aside param>
          <preview-with-more:races.recent param="races-preview">
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:races.recent>
          <preview-with-more:calendar_entries.recent param="calendar_entries-preview">
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:calendar_entries.recent>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Event">
  <page merge title="#{ht 'events.edit.title', :default=>['Edit Event'] }">

    <body: class="edit-page event" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="events.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'events.actions.delete', :default=>['Remove This Event']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-event-folder-page" polymorphic/>
<def tag="index-for-event-folder-page" for="Event">
  <page merge title="#{ht 'events.index_for_owner.title', :default=>['Events for']} #{name :with => @event_folder, :no_wrapper => true}">    
    <body: class="index-for-owner-page event-folder event" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@event_folder"/>
        </div>
        <h2 param="heading">
          <ht key="events.index_for_owner.heading.other">
            Events
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="events.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@event_folder"/>
        </h3>
        <p param="count" if>
          <ht key="events.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="events.actions.new" >New Event</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-event-folder-page" polymorphic/>
<def tag="new-for-event-folder-page" for="Event">
  <page merge title="#{ht 'events.new_for_owner.title', :default=>['New Event for']} #{name :with => @event_folder}">
    <body: class="new-for-owner-page  event" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="events.new_for_owner.heading">
            New Event
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="events.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@event_folder"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="event_folder" method="post" param>
          <field-list: skip="event_folder"/>
          <submit: label="#{ht 'events.actions.create', :default=>['Create Event']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Flagging Pages ====== -->

<def tag="index-page" for="Flagging">
  <page merge title="#{ht 'flaggings.index.title', :default=>['Flaggings'] }">
    <body: class="index-page flagging" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="flaggings.index.heading">
            Flaggings
          </ht>
        </h2>

        <p param="count" if>
          <ht key="flaggings.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="flaggings.actions.new">New Flagging</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Flagging">
  <page merge title="#{ht 'flaggings.new.title', :default=>[' New Flagging'] }">
    <body: class="new-page flagging" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="flaggings.new.heading">
            New Flagging
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'flaggings.actions.create', :default=>['Create Flagging']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Flagging">
  <page merge title="#{ht 'flaggings.show.title', :default=>['Flagging'] }">

    <body: class="show-page flagging" param/>

    <content: param>
          <header param="content-header">
            <a:fleet_race param="parent-link">&laquo; <ht key="flaggings.actions.back" to="fleet_race"><name/></ht></a:fleet_race>
            <h2 param="heading">
              <ht key="flaggings.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a:spotter param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="flaggings.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Flagging
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="flagging_time, flag" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Flagging">
  <page merge title="#{ht 'flaggings.edit.title', :default=>['Edit Flagging'] }">

    <body: class="edit-page flagging" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="flaggings.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'flaggings.actions.delete', :default=>['Remove This Flagging']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== Flag Pages ====== -->

<def tag="index-page" for="Flag">
  <page merge title="#{ht 'flags.index.title', :default=>['Flags'] }">
    <body: class="index-page flag" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="flags.index.heading">
            Flags
          </ht>
        </h2>

        <p param="count" if>
          <ht key="flags.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="flags.actions.new">New Flag</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Flag">
  <page merge title="#{ht 'flags.new.title', :default=>[' New Flag'] }">
    <body: class="new-page flag" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="flags.new.heading">
            New Flag
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'flags.actions.create', :default=>['Create Flag']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Flag">
  <page merge title="#{ht 'flags.show.title', :default=>['Flag'] }">

    <body: class="show-page flag" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="flags.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="flags.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Flag
              </ht>
            </a>
          </header>

          <section param="content-body">
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Flag">
  <page merge title="#{ht 'flags.edit.title', :default=>['Edit Flag'] }">

    <body: class="edit-page flag" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="flags.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'flags.actions.delete', :default=>['Remove This Flag']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== FleetRace Pages ====== -->

<def tag="index-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.index.title', :default=>['Fleet Races'] }">
    <body: class="index-page fleet-race" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="fleet_races.index.heading">
            Fleet Races
          </ht>
        </h2>

        <p param="count" if>
          <ht key="fleet_races.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="fleet_races.actions.new">New Fleet Race</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.new.title', :default=>[' New Fleet Race'] }">
    <body: class="new-page fleet-race" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="fleet_races.new.heading">
            New Fleet Race
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'fleet_races.actions.create', :default=>['Create Fleet Race']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.show.title', :default=>['Fleet Race'] }">

    <body: class="show-page fleet-race" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <a:race param="parent-link">&laquo; <ht key="fleet_races.actions.back" to="race"><name/></ht></a:race>
            <h2 param="heading">
              <ht key="fleet_races.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="fleet_races.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Fleet Race
              </ht>
            </a>
          </header>

          <section param="content-body" with-flash-messages>
            <field-list fields="status, scheduled_time, start_time, end_time, course, course_area" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="fleet_races.collection.heading.other" >
                  Enrollments
                </ht>
              </h3>

              <collection:enrollments param/>
            </section>
          </section>
        </section>

        <aside param>
          <section param="flaggings-collection-section">
            <h3 param="flaggings-collection-heading">
              <ht key="flaggings.collection.heading.other" >
                Flaggings
              </ht>
            </h3>
            <collection:flaggings  param="flaggings-collection"/>
          </section>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.edit.title', :default=>['Edit Fleet Race'] }">

    <body: class="edit-page fleet-race" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="fleet_races.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'fleet_races.actions.delete', :default=>['Remove This Fleet Race']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-course-area-page" polymorphic/>
<def tag="index-for-course-area-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.index_for_owner.title', :default=>['Fleet Races for']} #{name :with => @course_area, :no_wrapper => true}">    
    <body: class="index-for-owner-page course-area fleet-race" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@course_area"/>
        </div>
        <h2 param="heading">
          <ht key="fleet_races.index_for_owner.heading.other">
            Fleet Races
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="fleet_races.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@course_area"/>
        </h3>
        <p param="count" if>
          <ht key="fleet_races.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>



<def tag="index-for-race-page" polymorphic/>
<def tag="index-for-race-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.index_for_owner.title', :default=>['Fleet Races for']} #{name :with => @race, :no_wrapper => true}">    
    <body: class="index-for-owner-page race fleet-race" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@race"/>
        </div>
        <h2 param="heading">
          <ht key="fleet_races.index_for_owner.heading.other">
            Fleet Races
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="fleet_races.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@race"/>
        </h3>
        <p param="count" if>
          <ht key="fleet_races.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="fleet_races.actions.new" >New Fleet Race</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-race-page" polymorphic/>
<def tag="new-for-race-page" for="FleetRace">
  <page merge title="#{ht 'fleet_races.new_for_owner.title', :default=>['New Fleet Race for']} #{name :with => @race}">
    <body: class="new-for-owner-page  fleet-race" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="fleet_races.new_for_owner.heading">
            New Fleet Race
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="fleet_races.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@race"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="race" method="post" param>
          <field-list: skip="race"/>
          <submit: label="#{ht 'fleet_races.actions.create', :default=>['Create Fleet Race']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== NewsItem Pages ====== -->

<def tag="index-page" for="NewsItem">
  <page merge title="#{ht 'news_items.index.title', :default=>['News Items'] }">
    <body: class="index-page news-item" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="news_items.index.heading">
            News Items
          </ht>
        </h2>

        <p param="count" if>
          <ht key="news_items.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="news_items.actions.new">New News Item</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="NewsItem">
  <page merge title="#{ht 'news_items.new.title', :default=>[' New News Item'] }">
    <body: class="new-page news-item" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="news_items.new.heading">
            New News Item
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'news_items.actions.create', :default=>['Create News Item']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="NewsItem">
  <page merge title="#{ht 'news_items.show.title', :default=>['News Item'] }">

    <body: class="show-page news-item" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="news_items.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="news_items.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit News Item
              </ht>
            </a>
          </header>

          <section param="content-body">
            <view:body param="description"/>
            <field-list fields="news_type, news" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="NewsItem">
  <page merge title="#{ht 'news_items.edit.title', :default=>['Edit News Item'] }">

    <body: class="edit-page news-item" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="news_items.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'news_items.actions.delete', :default=>['Remove This News Item']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== OrganizationAdminRole Pages ====== -->

<def tag="index-page" for="OrganizationAdminRole">
  <page merge title="#{ht 'organization_admin_roles.index.title', :default=>['Organization Admin Roles'] }">
    <body: class="index-page organization-admin-role" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="organization_admin_roles.index.heading">
            Organization Admin Roles
          </ht>
        </h2>

        <p param="count" if>
          <ht key="organization_admin_roles.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="organization_admin_roles.actions.new">New Organization Admin Role</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="OrganizationAdminRole">
  <page merge title="#{ht 'organization_admin_roles.new.title', :default=>[' New Organization Admin Role'] }">
    <body: class="new-page organization-admin-role" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="organization_admin_roles.new.heading">
            New Organization Admin Role
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'organization_admin_roles.actions.create', :default=>['Create Organization Admin Role']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="OrganizationAdminRole">
  <page merge title="#{ht 'organization_admin_roles.show.title', :default=>['Organization Admin Role'] }">

    <body: class="show-page organization-admin-role" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="organization_admin_roles.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="organization_admin_roles.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Organization Admin Role
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="organization, user" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="OrganizationAdminRole">
  <page merge title="#{ht 'organization_admin_roles.edit.title', :default=>['Edit Organization Admin Role'] }">

    <body: class="edit-page organization-admin-role" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="organization_admin_roles.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'organization_admin_roles.actions.delete', :default=>['Remove This Organization Admin Role']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== Organization Pages ====== -->

<def tag="index-page" for="Organization">
  <page merge title="#{ht 'organizations.index.title', :default=>['Organizations'] }">
    <body: class="index-page organization" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="organizations.index.heading">
            Organizations
          </ht>
        </h2>

        <p param="count" if>
          <ht key="organizations.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="organizations.actions.new">New Organization</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Organization">
  <page merge title="#{ht 'organizations.new.title', :default=>[' New Organization'] }">
    <body: class="new-page organization" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="organizations.new.heading">
            New Organization
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'organizations.actions.create', :default=>['Create Organization']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Organization">
  <page merge title="#{ht 'organizations.show.title', :default=>['Organization'] }">

    <body: class="show-page organization" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <h2 param="heading">
              <ht key="organizations.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="organizations.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Organization
              </ht>
            </a>
          </header>

          <section param="content-body" with-flash-messages>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="organizations.collection.heading.other" >
                  Event Folders
                </ht>
              </h3>

              <collection:event_folders param/>

              <a:event_folders action="new" if="&can_create?(@organization.event_folders)" param="new-link">
                <ht key="event_folders.actions.new">
                  New Event Folder
                </ht>
              </a:event_folders>
            </section>
          </section>
        </section>

        <aside param>
          <preview-with-more:courses.recent param="courses-preview">
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:courses.recent>
          <preview-with-more:boat_classes.recent param="boat_classes-preview">
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:boat_classes.recent>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Organization">
  <page merge title="#{ht 'organizations.edit.title', :default=>['Edit Organization'] }">

    <body: class="edit-page organization" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="organizations.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'organizations.actions.delete', :default=>['Remove This Organization']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== Race Pages ====== -->

<def tag="index-page" for="Race">
  <page merge title="#{ht 'races.index.title', :default=>['Races'] }">
    <body: class="index-page race" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="races.index.heading">
            Races
          </ht>
        </h2>

        <p param="count" if>
          <ht key="races.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="races.actions.new">New Race</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Race">
  <page merge title="#{ht 'races.new.title', :default=>[' New Race'] }">
    <body: class="new-page race" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="races.new.heading">
            New Race
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'races.actions.create', :default=>['Create Race']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Race">
  <page merge title="#{ht 'races.show.title', :default=>['Race'] }">

    <body: class="show-page race" param/>

    <content: param>
          <header param="content-header">
            <a:event param="parent-link">&laquo; <ht key="races.actions.back" to="event"><name/></ht></a:event>
            <h2 param="heading">
              <ht key="races.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="races.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Race
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="gender, boat_class" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="races.collection.heading.other" >
                  Fleet Races
                </ht>
              </h3>

              <collection:fleet_races param/>

              <a:fleet_races action="new" if="&can_create?(@race.fleet_races)" param="new-link">
                <ht key="fleet_races.actions.new">
                  New Fleet Race
                </ht>
              </a:fleet_races>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Race">
  <page merge title="#{ht 'races.edit.title', :default=>['Edit Race'] }">

    <body: class="edit-page race" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="races.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'races.actions.delete', :default=>['Remove This Race']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-event-page" polymorphic/>
<def tag="index-for-event-page" for="Race">
  <page merge title="#{ht 'races.index_for_owner.title', :default=>['Races for']} #{name :with => @event, :no_wrapper => true}">    
    <body: class="index-for-owner-page event race" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@event"/>
        </div>
        <h2 param="heading">
          <ht key="races.index_for_owner.heading.other">
            Races
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="races.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
        <p param="count" if>
          <ht key="races.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="races.actions.new" >New Race</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-event-page" polymorphic/>
<def tag="new-for-event-page" for="Race">
  <page merge title="#{ht 'races.new_for_owner.title', :default=>['New Race for']} #{name :with => @event}">
    <body: class="new-for-owner-page  race" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="races.new_for_owner.heading">
            New Race
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="races.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@event"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="event" method="post" param>
          <field-list: skip="event"/>
          <submit: label="#{ht 'races.actions.create', :default=>['Create Race']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== RsxMobileService Pages ====== -->

<def tag="index-page" for="RsxMobileService">
  <page merge title="#{ht 'rsx_mobile_services.index.title', :default=>['Rsx Mobile Services'] }">
    <body: class="index-page rsx-mobile-service" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="rsx_mobile_services.index.heading">
            Rsx Mobile Services
          </ht>
        </h2>

        <p param="count" if>
          <ht key="rsx_mobile_services.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="RsxMobileService">
  <page merge title="#{ht 'rsx_mobile_services.new.title', :default=>[' New Rsx Mobile Service'] }">
    <body: class="new-page rsx-mobile-service" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="rsx_mobile_services.new.heading">
            New Rsx Mobile Service
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'rsx_mobile_services.actions.create', :default=>['Create Rsx Mobile Service']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="RsxMobileService">
  <page merge title="#{ht 'rsx_mobile_services.show.title', :default=>['Rsx Mobile Service'] }">

    <body: class="show-page rsx-mobile-service" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="rsx_mobile_services.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>
          </header>

          <section param="content-body">
            <field-list fields="api_key, state, event" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="RsxMobileService">
  <page merge title="#{ht 'rsx_mobile_services.edit.title', :default=>['Edit Rsx Mobile Service'] }">

    <body: class="edit-page rsx-mobile-service" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="rsx_mobile_services.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'rsx_mobile_services.actions.delete', :default=>['Remove This Rsx Mobile Service']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>


<def tag="ready-page" polymorphic/>
<def tag="ready-page" for="RsxMobileService">
  
  <page title="#{ht 'rsx_mobile_services.ready.title', :default=>['Ready']}" merge>  

    <body: class="lifecycle-start-page ready-page" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="rsx_mobile_services.ready.heading">
            Ready
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <ready-form param="form"/>
      </section>
    </content:>

  </page>
</def>



<!-- ====== Site Pages ====== -->

<def tag="index-page" for="Site">
  <page merge title="#{ht 'sites.index.title', :default=>['Sites'] }">
    <body: class="index-page site" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="sites.index.heading">
            Sites
          </ht>
        </h2>

        <p param="count" if>
          <ht key="sites.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Site">
  <page merge title="#{ht 'sites.new.title', :default=>[' New Site'] }">
    <body: class="new-page site" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="sites.new.heading">
            New Site
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'sites.actions.create', :default=>['Create Site']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Site">
  <page merge title="#{ht 'sites.show.title', :default=>['Site'] }">

    <body: class="show-page site" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="sites.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>
          </header>

          <section param="content-body">
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="sites.collection.heading.other" >
                  Events
                </ht>
              </h3>

              <collection:events param/>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Site">
  <page merge title="#{ht 'sites.edit.title', :default=>['Edit Site'] }">

    <body: class="edit-page site" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="sites.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'sites.actions.delete', :default=>['Remove This Site']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== Spot Pages ====== -->

<def tag="index-page" for="Spot">
  <page merge title="#{ht 'spots.index.title', :default=>['Spots'] }">
    <body: class="index-page spot" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="spots.index.heading">
            Spots
          </ht>
        </h2>

        <p param="count" if>
          <ht key="spots.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Spot">
  <page merge title="#{ht 'spots.new.title', :default=>[' New Spot'] }">
    <body: class="new-page spot" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="spots.new.heading">
            New Spot
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'spots.actions.create', :default=>['Create Spot']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Spot">
  <page merge title="#{ht 'spots.show.title', :default=>['Spot'] }">

    <body: class="show-page spot" param/>

    <content: param>
          <header param="content-header">
            <a:course param="parent-link">&laquo; <ht key="spots.actions.back" to="course"><name/></ht></a:course>
            <h2 param="heading">
              <ht key="spots.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="spots.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Spot
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="position, spot_type" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="spots.collection.heading.other" >
                  Spottings
                </ht>
              </h3>

              <collection:spottings param/>
            </section>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Spot">
  <page merge title="#{ht 'spots.edit.title', :default=>['Edit Spot'] }">

    <body: class="edit-page spot" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="spots.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'spots.actions.delete', :default=>['Remove This Spot']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>

<def tag="index-for-course-page" polymorphic/>
<def tag="index-for-course-page" for="Spot">
  <page merge title="#{ht 'spots.index_for_owner.title', :default=>['Spots for']} #{name :with => @course, :no_wrapper => true}">    
    <body: class="index-for-owner-page course spot" param/>
    <content: param>
      <header param="content-header">
        <div param="back-to">
          <ht key="hobo.actions.back">Back to</ht> <a with="&@course"/>
        </div>
        <h2 param="heading">
          <ht key="spots.index_for_owner.heading.other">
            Spots
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="spots.index_for_owner.subheading">
            For:
          </ht>
          <a with="&@course"/>
        </h3>
        <p param="count" if>
          <ht key="spots.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="spots.actions.new" >New Spot</ht>
        </a>


        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>
      </section>
    </content:>
  </page>
</def>


<def tag="new-for-course-page" polymorphic/>
<def tag="new-for-course-page" for="Spot">
  <page merge title="#{ht 'spots.new_for_owner.title', :default=>['New Spot for']} #{name :with => @course}">
    <body: class="new-for-owner-page  spot" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="spots.new_for_owner.heading">
            New Spot
          </ht>
        </h2>
        <h3 param="subheading">
          <ht key="spots.new_for_owner.subheading">
            For:
          </ht>
          <a with="&@course"/>
        </h3>
      </header>

      <section param="content-body">
        <form owner="course" method="post" param>
          <field-list: skip="course"/>
          <submit: label="#{ht 'spots.actions.create', :default=>['Create Spot']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>





<!-- ====== Spotting Pages ====== -->

<def tag="index-page" for="Spotting">
  <page merge title="#{ht 'spottings.index.title', :default=>['Spottings'] }">
    <body: class="index-page spotting" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="spottings.index.heading">
            Spottings
          </ht>
        </h2>

        <p param="count" if>
          <ht key="spottings.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="spottings.actions.new">New Spotting</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="Spotting">
  <page merge title="#{ht 'spottings.new.title', :default=>[' New Spotting'] }">
    <body: class="new-page spotting" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="spottings.new.heading">
            New Spotting
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'spottings.actions.create', :default=>['Create Spotting']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="Spotting">
  <page merge title="#{ht 'spottings.show.title', :default=>['Spotting'] }">

    <body: class="show-page spotting" param/>

    <content: param>
          <header param="content-header">
            <a:spot param="parent-link">&laquo; <ht key="spottings.actions.back" to="spot"><name/></ht></a:spot>
            <h2 param="heading">
              <ht key="spottings.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a:spotter param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="spottings.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Spotting
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="spotting_time, boat" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="Spotting">
  <page merge title="#{ht 'spottings.edit.title', :default=>['Edit Spotting'] }">

    <body: class="edit-page spotting" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="spottings.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'spottings.actions.delete', :default=>['Remove This Spotting']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== UserProfile Pages ====== -->

<def tag="index-page" for="UserProfile">
  <page merge title="#{ht 'user_profiles.index.title', :default=>['User Profiles'] }">
    <body: class="index-page user-profile" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="user_profiles.index.heading">
            User Profiles
          </ht>
        </h2>

        <p param="count" if>
          <ht key="user_profiles.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">
        <a action="new" to="&model" param="new-link">
          <ht key="user_profiles.actions.new">New User Profile</ht>
        </a>

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="UserProfile">
  <page merge title="#{ht 'user_profiles.new.title', :default=>[' New User Profile'] }">
    <body: class="new-page user-profile" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="user_profiles.new.heading">
            New User Profile
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'user_profiles.actions.create', :default=>['Create User Profile']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="UserProfile">
  <page merge title="#{ht 'user_profiles.show.title', :default=>['User Profile'] }">

    <body: class="show-page user-profile" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="user_profiles.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a:owner param="creator-link"/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="user_profiles.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit User Profile
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="first_name, middle_name, last_name, gender, birthdate, twitter, facebook, homepage, mobile_phone, country" param/>
          </section>
    </content:>

  </page>
</def>


<def tag="edit-page" for="UserProfile">
  <page merge title="#{ht 'user_profiles.edit.title', :default=>['Edit User Profile'] }">

    <body: class="edit-page user-profile" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="user_profiles.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'user_profiles.actions.delete', :default=>['Remove This User Profile']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>





<!-- ====== User Pages ====== -->

<def tag="index-page" for="User">
  <page merge title="#{ht 'users.index.title', :default=>['Users'] }">
    <body: class="index-page user" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.index.heading">
            Users
          </ht>
        </h2>

        <p param="count" if>
          <ht key="users.collection.count" count="&this.size">
            There <count prefix="are"/>
          </ht>
        </p>
      </header>

      <section param="content-body">

        <page-nav param="top-page-nav"/>

        <collection param/>

        <page-nav param="bottom-page-nav"/>


      </section>
    </content:>
  </page>
</def>


<def tag="new-page" for="User">
  <page merge title="#{ht 'users.new.title', :default=>[' New User'] }">
    <body: class="new-page user" param/>

    <content: param>
      <section param="content-header">
        <h2 param="heading">
          <ht key="users.new.heading">
            New User
          </ht>
        </h2>
      </section>

      <section param="content-body">
        <form param>
          <submit: label="#{ht 'users.actions.create', :default=>['Create User']}"/>
        </form>
      </section>
    </content:>
  </page>
</def>


<def tag="show-page" for="User">
  <page merge title="#{ht 'users.show.title', :default=>['User'] }">

    <body: class="show-page user" param/>

    <content: param>
      <section-group>
        <section param="main-content">
          <header param="content-header">
            <h2 param="heading">
              <ht key="users.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="administrator" param/>
          </header>

          <section param="content-body" with-flash-messages>
            <field-list fields="state" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                <ht key="users.collection.heading.your" >
                  <Your/>Enrollments
                </ht>
              </h3>

              <collection:enrollments param/>
            </section>
          </section>
        </section>

        <aside param>
          <preview-with-more:enrollments.recent param="enrollments-preview">
            <heading:>
              <ht key="hobo.undefined">  
                <Your with="&@user"/> Enrollments
              </ht>
            </heading:>
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:enrollments.recent>
          <preview-with-more:boats.recent param="boats-preview">
            <heading:>
              <ht key="hobo.undefined">  
                <Your with="&@user"/> Boats
              </ht>
            </heading:>
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:boats.recent>
          <preview-with-more:crews.recent param="crews-preview">
            <heading:>
              <ht key="hobo.undefined">  
                <Your with="&@user"/> Crews
              </ht>
            </heading:>
            <more:>
              <ht key="hobo.actions.more">more</ht>
            </more:>
          </preview-with-more:crews.recent>
        </aside>
      </section-group>
    </content:>

  </page>
</def>


<def tag="edit-page" for="User">
  <page merge title="#{ht 'users.edit.title', :default=>['Edit User'] }">

    <body: class="edit-page user" param/>

    <content:>
      <section param="content-header">
        <h2 param="heading">
          <ht key="users.edit.heading" name="&this.respond_to?(:name) ? this.name : ''">
            Edit <type-name/>
          </ht>
        </h2>
        <delete-button label="#{ht 'users.actions.delete', :default=>['Remove This User']}" param/>
      </section>

      <section param="content-body">
        <form param/>
      </section>
    </content:>

  </page>
</def>


<def tag="signup-page" polymorphic/>
<def tag="signup-page" for="User">
  
  <page title="#{ht 'users.signup.title', :default=>['Signup']}" merge>  

    <body: class="lifecycle-start-page signup-page" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.signup.heading">
            Signup
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <signup-form param="form"/>
      </section>
    </content:>

  </page>
</def>
<def tag="invite-page" polymorphic/>
<def tag="invite-page" for="User">
  
  <page title="#{ht 'users.invite.title', :default=>['Invite']}" merge>  

    <body: class="lifecycle-start-page invite-page" param/>

    <content: param>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.invite.heading">
            Invite
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <invite-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="accept-invitation-page" polymorphic/>
<def tag="accept-invitation-page" for="User">
  <page title="#{ht 'users.accept_invitation.title', :default=>['Accept Invitation']}" merge>

    <body: class="lifecycle-transition-page accept-invitation-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.accept_invitation.heading">
            Accept Invitation
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <accept-invitation-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="activate-signup-page" polymorphic/>
<def tag="activate-signup-page" for="User">
  <page title="#{ht 'users.activate_signup.title', :default=>['Activate Signup']}" merge>

    <body: class="lifecycle-transition-page activate-signup-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.activate_signup.heading">
            Activate Signup
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <activate-signup-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="inactivate-account-page" polymorphic/>
<def tag="inactivate-account-page" for="User">
  <page title="#{ht 'users.inactivate_account.title', :default=>['Inactivate Account']}" merge>

    <body: class="lifecycle-transition-page inactivate-account-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.inactivate_account.heading">
            Inactivate Account
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <inactivate-account-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="activate-account-page" polymorphic/>
<def tag="activate-account-page" for="User">
  <page title="#{ht 'users.activate_account.title', :default=>['Activate Account']}" merge>

    <body: class="lifecycle-transition-page activate-account-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.activate_account.heading">
            Activate Account
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <activate-account-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="reset-password-page" polymorphic/>
<def tag="reset-password-page" for="User">
  <page title="#{ht 'users.reset_password.title', :default=>['Reset Password']}" merge>

    <body: class="lifecycle-transition-page reset-password-page" param/>

    <content:>
      <header param="content-header">
        <h2 param="heading">
          <ht key="users.reset_password.heading">
            Reset Password
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <reset-password-form param="form"/>
      </section>
    </content:>

  </page>
</def>


